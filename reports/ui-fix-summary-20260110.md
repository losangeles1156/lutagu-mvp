# LUTAGU_MVP UI ä¿®å¾©æ‘˜è¦å ±å‘Š

## ğŸ“… åŸ·è¡Œæ—¥æœŸ
2026-01-10

---

## âœ… å·²å®Œæˆçš„ä¿®å¾©å·¥ä½œ

### 1. MainLayout.tsx åœ‹éš›åŒ–ä¿®å¾©

**æª”æ¡ˆ**: [`src/components/layout/MainLayout.tsx`](src/components/layout/MainLayout.tsx)

**è®Šæ›´å…§å®¹**:
- âœ… æ–°å¢ `useTranslations` import (è¡Œ 5)
- âœ… æ–°å¢ `tCommon` å’Œ `tChat` ç¿»è­¯ hooks (è¡Œ 40-41)
- âœ… ç§»é™¤é‡è¤‡çš„ `desktopContainerRef` å®£å‘Š (è¡Œ 43)
- âœ… æ›¿æ›ç¡¬ç·¨ç¢¼ "AI Agent" ç‚ºç¿»è­¯æ–‡å­— (è¡Œ 144)
  - ä½¿ç”¨ `tChat('aiName', { defaultValue: 'AI åŠ©æ‰‹' })`
- âœ… æ›¿æ›æ¢ç´¢æ¨¡å¼ä¸­çš„ç¡¬ç·¨ç¢¼ "AI åŠ©æ‰‹" (è¡Œ 144)
- âœ… æ›¿æ›æ¡Œæ©Ÿæ¨¡å¼ä¸­çš„ç¡¬ç·¨ç¢¼ "AI åŠ©æ‰‹" (è¡Œ 185)
- âœ… æ›¿æ›æ‰‹æ©Ÿæ¨¡å¼ä¸­çš„ç¡¬ç·¨ç¢¼ "AI åŠ©æ‰‹" (è¡Œ 249)

**ç¿»è­¯æ–‡å­—å°æ‡‰**:
| åŸå§‹æ–‡å­— | ç¿»è­¯éµå€¼ | é è¨­å€¼ |
|----------|----------|--------|
| AI Agent | `chat.aiName` | AI åŠ©æ‰‹ |

---

### 2. ErrorBoundary è¦†è“‹ç¯„åœè©•ä¼°

#### ç¾æœ‰ ErrorBoundary å¯¦ä½œ

| å…ƒä»¶ | æª”æ¡ˆ | ç‹€æ…‹ |
|------|------|------|
| UI ErrorBoundary | [`src/components/ui/ErrorBoundary.tsx`](src/components/ui/ErrorBoundary.tsx) | âœ… å®Œæ•´å¯¦ä½œ |
| Common ErrorBoundary | [`src/components/common/ErrorBoundary.tsx`](src/components/common/ErrorBoundary.tsx) | âœ… é‡æ–°å°å‡º |
| Page Error | [`src/app/[locale]/error.tsx`](src/app/[locale]/error.tsx) | âœ… å­˜åœ¨ |

#### æ–°å¢çš„éŒ¯èª¤è™•ç†

| å…ƒä»¶ | æª”æ¡ˆ | ç‹€æ…‹ |
|------|------|------|
| Admin Error | [`src/app/[locale]/admin/error.tsx`](src/app/[locale]/admin/error.tsx) | âœ… æ–°å¢ |

**Admin Error å¯¦ä½œåŠŸèƒ½**:
- âœ… å…¨é é¢éŒ¯èª¤é¡¯ç¤º
- âœ… é‡æ–°æ•´ç†æŒ‰éˆ•
- âœ… è¿”å›ç®¡ç†é¦–é æŒ‰éˆ•
- âœ… é–‹ç™¼æ¨¡å¼é¡¯ç¤ºéŒ¯èª¤å †ç–Š

---

## ğŸ“Š ErrorBoundary åŠŸèƒ½èªªæ˜

### ui/ErrorBoundary.tsx æ”¯æ´å…©ç¨®è®Šé«”

1. **page variant (é è¨­)**:
   - å…¨é é¢ç½®ä¸­éŒ¯èª¤é¡¯ç¤º
   - åŒ…å«ã€Œé‡æ–°æ•´ç†ã€å’Œã€Œè¿”å›ã€æŒ‰éˆ•
   - é¡¯ç¤ºéŒ¯èª¤å †ç–Š (é–‹ç™¼æ¨¡å¼)

2. **inline variant**:
   - ç·Šæ¹Šå¡ç‰‡æ¨£å¼
   - é©åˆå…ƒä»¶ç´šéŒ¯èª¤è™•ç†
   - åŒ…å«ã€Œé‡è©¦ã€å’Œã€Œè¿”å›ã€æŒ‰éˆ•

---

## ğŸ“‹ è®Šæ›´æª”æ¡ˆæ¸…å–®

| æª”æ¡ˆ | è®Šæ›´é¡å‹ | èªªæ˜ |
|------|----------|------|
| `src/components/layout/MainLayout.tsx` | ä¿®æ”¹ | åœ‹éš›åŒ–ä¿®å¾©ã€ç§»é™¤ç¡¬ç·¨ç¢¼ |
| `src/app/[locale]/admin/error.tsx` | æ–°å¢ | ç®¡ç†å¾Œå°éŒ¯èª¤é é¢ |
| `src/data/station_wisdom_generated.ts` | é©—è­‰ | èªæ³•éŒ¯èª¤å·²ä¿®å¾© |

---

## ğŸ¯ åœ‹éš›åŒ–å¯¦ä½œç‹€æ…‹

### MainLayout ç¿»è­¯è¦†è“‹ç‡

| å€åŸŸ | åŸå§‹æ•¸é‡ | å·²ç¿»è­¯ | ç™¾åˆ†æ¯” |
|------|----------|--------|--------|
| æŒ‰éˆ•æ–‡å­— | 3 | 3 | 100% |
| æ¨™ç±¤æ–‡å­— | 0 | 0 | - |
| ç‹€æ…‹æ–‡å­— | 0 | 0 | - |
| ç¸½è¨ˆ | 3 | 3 | 100% |

---

## âš ï¸ å°šå¾…æ”¹é€²é …ç›®

| é …ç›® | å„ªå…ˆç´š | èªªæ˜ |
|------|--------|------|
| ChatCollapsedPanel åœ‹éš›åŒ– | ä¸­ | æª¢æŸ¥æ˜¯å¦æœ‰ç¡¬ç·¨ç¢¼æ–‡å­— |
| LoginPanel åœ‹éš›åŒ– | ä¸­ | æª¢æŸ¥æ˜¯å¦æœ‰ç¡¬ç·¨ç¢¼æ–‡å­— |
| Admin å­é é¢ ErrorBoundary | ä½ | è€ƒæ…®ç‚º `/admin/*` å­è·¯ç”±æ–°å¢ |

---

## ğŸ” æ¸¬è©¦é©—è­‰æ¸…å–®

- [ ] ç¢ºèª MainLayout ä¸­ "AI åŠ©æ‰‹" æŒ‰éˆ•æ­£ç¢ºéŸ¿æ‡‰èªç³»åˆ‡æ›
- [ ] æ¸¬è©¦ admin/error.tsx éŒ¯èª¤é é¢é¡¯ç¤º
- [ ] é©—è­‰ ErrorBoundary è®Šé«” (page/inline) æ­£ç¢ºé‹ä½œ
- [ ] ç¢ºèªç·¨è­¯ç„¡éŒ¯èª¤

---

## ğŸ“š ç›¸é—œæ–‡ä»¶

- [UI å¯©æŸ¥è¨ˆåŠƒ](plans/ui-review-testing-plan.md)
- [UI æ¸¬è©¦æ¸…å–®](scripts/ui-test-checklist.md)
- [UI å¯©æŸ¥å ±å‘Š](reports/ui-review-report-20260110.md)
