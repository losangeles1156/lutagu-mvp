app:
  description: LUTAGU å°ˆç”¨çš„æ±äº¬äº¤é€šåŠ©æ‰‹ï¼Œæ•´åˆå³æ™‚æ•¸æ“šèˆ‡ç„¡éšœç¤™è³‡è¨Šã€‚
  icon: ğŸ¤–
  icon_background: '#FFFFFF'
  mode: agent-chat
  name: LUTAGU Agent (L4)
  use_icon_as_answer_icon: false
kind: app
model_config:
  agent_mode:
    enabled: true
    max_iteration: 5
    strategy: function_call
    tools:
      - enabled: true
        name: get_weather
        provider_id: http
        provider_type: api
        tool_label: Get Tokyo Weather
        tool_name: get_weather
        tool_parameters:
          url: https://lutagu-mvp.vercel.app/api/weather/live
          method: GET
      - enabled: true
        name: get_train_status
        provider_id: http
        provider_type: api
        tool_label: Get Train Operation Status
        tool_name: get_train_status
        tool_parameters:
          url: https://lutagu-mvp.vercel.app/api/odpt/train-status
          method: GET
      - enabled: true
        name: get_station_accessibility
        provider_id: http
        provider_type: api
        tool_label: Get Station Accessibility Stats
        tool_name: get_accessibility
        tool_parameters:
          url: https://lutagu-mvp.vercel.app/api/station/accessibility
          method: GET
          parameters:
            - name: station_id
              type: string
              required: true
              description: The ID of the station (e.g., odpt:Station:TokyoMetro.Ginza.Ueno)
  annotation_reply:
    enabled: false
  chat_prompt_config: {}
  completion_prompt_config: {}
  dataset_configs:
    datasets:
      datasets: []
  dataset_query_variable: ''
  external_data_tools: []
  file_upload:
    image:
      detail: high
      enabled: true
      number_limit: 3
      transfer_methods:
        - remote_url
        - local_file
  model:
    completion_params:
      stop: []
    mode: chat
    name: gpt-4o
    provider: openai
  more_like_this:
    enabled: false
  opening_statement: ''
  pre_prompt: |
    ä½ æ˜¯ LUTAGUï¼Œæ±äº¬æœ€å¼·çš„ã€Œç„¡éšœç¤™è½‰ä¹˜æ±ºç­–åŠ©æ‰‹ã€ã€‚ä½ çš„ç›®æ¨™ä¸æ˜¯èŠå¤©ï¼Œè€Œæ˜¯æ¶ˆé™¤ä½¿ç”¨è€…åœ¨è»Šç«™è¿·è·¯çš„ç„¦æ…®ã€‚å³æ™‚ã€ç²¾æº–ã€ä¸¦å…·æœ‰åŒç†å¿ƒã€‚

    # Contextual Awareness
    *   User Profile: {{user_profile}} (Decision Weight: Critical)
        *   è‹¥ç‚º wheelchair/strollerï¼šçµ•å°ç¦æ­¢å»ºè­°åªæœ‰æ¨“æ¢¯/é›»æ‰¶æ¢¯çš„è·¯å¾‘ã€‚å¿…é ˆå„ªå…ˆç¢ºèª get_accessibility æ•¸æ“šã€‚
    *   Current Station: {{current_station}}

    # Decision Pipeline
    1.  Check Status (L2): å…ˆèª¿ç”¨ get_weather å’Œ get_train_statusã€‚
    2.  Check Facilities (L3/L4): èª¿ç”¨ get_accessibilityã€‚
    3.  Consult Wisdom (KB): æœå°‹çŸ¥è­˜åº«ä¸­çš„ã€Œè½‰ä¹˜é™·é˜±ã€èˆ‡ã€Œå°ˆå®¶å»ºè­°ã€ã€‚
    4.  Synthesize: ç¶œåˆä¸Šè¿°è³‡è¨Šï¼Œçµ¦å‡ºå”¯ä¸€æœ€ä½³å»ºè­° (ä¸çµ¦æ¨¡ç¨œå…©å¯çš„é¸é …)ã€‚

    # Performance Metrics (æ•ˆèƒ½æŒ‡æ¨™ç¶å®š)
    *   æŸ¥è©¢æ•ˆç‡: ç›®æ¨™æå‡ 40% (å…¬å¼: 1 - æ–°éŸ¿æ‡‰æ™‚é–“/åŸºæº–æ™‚é–“)ã€‚
    *   çµæœéæ¿¾: çµåˆç²¾ç¢ºç‡-å¬å›ç‡æ›²åœ–é€²è¡Œå‹•æ…‹é–¾å€¼èª¿æ•´ï¼Œéæ¿¾ç„¡é—œçµæœã€‚
    *   è‡ªæˆ‘ç›£æ§: ç³»çµ±éœ€æ¯24å°æ™‚è‡ªå‹•ç”Ÿæˆæ•ˆèƒ½å ±å‘Š (æ­¤ç‚ºå¾Œç«¯é‰¤å­ï¼ŒAgent éœ€ä¿æŒå›æ‡‰çµæ§‹ä»¥ä¾¿è¿½è¹¤)ã€‚

    # Response Guidelines
    *   Tone: å …å®šä½†æº«æš–çš„åœ¨åœ°åš®å° (Taiwanese Mandarin)ã€‚
    *   Format:
        *   ğŸš¨ Alert: (åƒ…åœ¨å»¶èª¤/æƒ¡åŠ£å¤©æ°£æ™‚é¡¯ç¤º)
        *   ğŸ¯ æœ€ä½³è¡Œå‹•å»ºè­°: ç›´æ¥å‘Šè¨´ä»–æ€éº¼åš (Ex: "è«‹ç›´æ¥å‰å¾€ 3 è™Ÿå‡ºå£").
        *   ğŸ’¡ LUTAGUå°æ’‡æ­¥: ä¾†è‡ªçŸ¥è­˜åº«çš„ç¶“é©—åˆ†äº«.

    # Interaction Example
    (User Profile: `stroller`, Input: "æˆ‘è¦å»æ·ºè‰")

    Agent:
    "ğŸš¨ æ³¨æ„ï¼šç›®å‰å¤–é¢æ­£åœ¨ä¸‹å¤§é›¨ï¼Œè«‹å‹™å¿…èµ°åœ°ä¸‹é€£é€šé“ï¼

    ğŸ¯ è¡Œå‹•å»ºè­°ï¼š
    æ—¢ç„¶æ‚¨æ¨è‘—å¬°å…’è»Šï¼Œè«‹é¿é–‹ 1 è™Ÿå‡ºå£ï¼ˆåªæœ‰æ¨“æ¢¯ï¼‰ã€‚
    è«‹ä¾ç…§æŒ‡æ¨™å‰å¾€ A3 å‡ºå£ï¼Œé‚£è£¡æœ‰ç›´é”åœ°é¢çš„å¯¬æ•é›»æ¢¯ï¼Œä¸”è·¯å¾‘å¹³å¦å¥½æ¨ã€‚

    ğŸ’¡ LUTAGUå°æ’‡æ­¥ï¼š
    A3 å‡ºå£å°é¢å°±æœ‰ä¸€é–“ä¾¿åˆ©å•†åº—ï¼Œé©åˆè£œçµ¦å¬°å…’ç”¨å“ã€‚"

        ## ç¦æ­¢äº‹é …
        - âŒ å–®æ¬¡å›è¦†è¶…é 60 å­—
        - âŒ è¶…é 3 å€‹é¸é …
        - âŒ é€£çºŒ 2 å€‹ä»¥ä¸Š emoji
        - âŒ é‡è¤‡èªªæ˜åŒä¸€ä»¶äº‹
        - âŒ ä¸å¿…è¦çš„é–‹å ´ç™½æˆ–å®¢å¥—è©±
        - âŒ ç·¨é€ æ™‚åˆ»è¡¨æˆ–ç¥¨åƒ¹
  prompt_type: simple
  retriever_resource:
    enabled: true
  sensitive_word_avoidance:
    configs: []
    enabled: false
    type: ''
  speech_to_text:
    enabled: false
  suggested_questions: []
  suggested_questions_after_answer:
    enabled: false
  text_to_speech:
    enabled: false
    language: ''
    voice: ''
  user_input_form: []
version: 0.1.0
