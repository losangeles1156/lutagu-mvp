# LUTAGU 路線規劃演算法可靠性驗證報告

## 1. 測試概覽
- **測試日期**: 2026-01-11
- **測試樣本**: 50 組不同起訖點組合（涵蓋機場、市區核心、郊區長距離及複雜轉乘）
- **對比基準**: Google Maps API 數據（預估行程時間）
- **測試環境**: macOS (Local Engine Execution)

## 2. 核心指標統計
| 指標 | 測試結果 | 合格標準 | 狀態 |
| :--- | :--- | :--- | :--- |
| **平均響應時間** | 12.82 ms | < 2,000 ms | ✅ 優異 |
| **最大響應時間** | 58.71 ms | < 2,000 ms | ✅ 優異 |
| **時間預估準確率** | 80.32% | ±15% (85%) | ⚠️ 待優化 |
| **路徑搜尋成功率** | 100.00% | 100% | ✅ 達標 |
| **記憶體增量** | 9.31 MB | N/A | ✅ 輕量 |

## 3. 性能分析與視覺化 (數據摘要)
- **響應速度**: 演算法在處理 1150 個站點的拓樸時表現極其高效，平均響應時間僅為 12.82 毫秒，遠超預期。
- **資源佔用**: 壓力測試期間記憶體波動極小，適合在高併發環境下運行。

## 4. 可靠性與差異分析
### 4.1 顯著差異案例分析
| 案例 | LUTAGU | Google Maps | 差異原因分析 |
| :--- | :--- | :--- | :--- |
| **大宮 → 新宿** | 15 分 | 35 分 | LUTAGU 僅計算純行車時間，未包含大型車站（大宮、新宿）內的步行與候車時間。 |
| **淺草 → 都廳前** | 52 分 | 35 分 | **預期行為**：LUTAGU 觸發了「藏前轉乘懲罰」，主動選擇了路程較長但轉乘更舒適的路線。 |
| **千葉 → 東京** | 28 分 | 45 分 | 快速線路（總武線快速）的排班密度未在靜態拓樸中體現，導致預估過於樂觀。 |

### 4.2 異常處理能力
- **站點匹配**: 成功處理了模糊匹配與多站點 ID 聚合。
- **無解路徑**: 暫無發現連通圖內的無解路徑。

## 5. 改進建議
1. **引入「站內步行時間」補償**: 針對新宿、東京、大宮等大型樞紐站，在計算轉乘或起訖時間時增加 5-10 分鐘的緩衝。
2. **動態權重微調**:
   - 縮小「藏前懲罰」在極端情況下的影響力，或提供「最快」與「最舒適」兩種切換模式。
   - 優化長距離快速線路的權重，使其與 Google Maps 的實際排班更契合。
3. **增加候車時間參數**: 在總行程時間中加入平均候車時間（例如 3-5 分鐘），以提升時間預估的真實性。

## 6. 結論
LUTAGU 路線規劃演算法在**響應速度**與**連通可靠性**上表現卓越，完全能滿足實時交互需求。目前的「時間準確率」誤差主要來源於對大型車站站內時間的忽略以及刻意設計的舒適度懲罰。透過引入站內步行補償因子，預計準確率可提升至 90% 以上。
