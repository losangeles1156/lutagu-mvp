# 公共交通オープンデータチャレンジ2025 作品紹介

---

## 作品名

**LUTAGU（ルタグ）**
— 訪日外国人のための感性ナビ「どうやって行く」がわかるAI移動支援サービス —

---

## 一言で説明

> **LUTAGUは「調べられる」を「判断できる」に変えるAI移動アシスタントです。**
>
> 既存ツールが提供する「ルート情報」ではなく、「あなたの状況では、どの選択がベストか」を教えます。

---

## 解決する課題

### 訪日外国人が直面する4つの「詰まり」

| 課題 | 従来ツールの限界 | LUTAGUの解決策 |
|-----|----------------|---------------|
| **オーバーツーリズム** | 混雑情報は出ない | 「浅草が混んでいるなら、似た雰囲気の柴又はいかが？」と代替提案 |
| **交通空白** | 遅延時は自分で調べ直し | 「中央線が遅延中。西新宿駅経由の方が出口がシンプルで楽です」と判断代行 |
| **手ぶら観光** | コインロッカー情報は分散 | ecbo cloak・Metro ロッカーへのリンクを一箇所に集約 |
| **バリアフリー** | 「最短ルート」のみ | 「ベビーカーなら上野駅公園口。地上階でエレベーター不要です」と具体案内 |

**共通の本質的課題**：
> 情報は存在するが、**「何を調べればいいか分からない」「調べても判断できない」** 状態にある。
> LUTAGUは、この「判読」のプロセスを代行する。

---

## 使用データ

### 必須データ（ODPT）

| データ種別 | 利用内容 | API |
|-----------|---------|-----|
| **鉄道運行情報** | リアルタイム遅延・運休検知 | odpt:TrainInformation |
| **駅情報** | 駅構造・乗換経路 | odpt:Station |
| **路線情報** | 直通運転・接続関係 | odpt:Railway |
| **運賃情報** | 経路別運賃計算 | odpt:RailwayFare |
| **時刻表** | 発車時刻・終電確認 | odpt:StationTimetable |

### 推奨データ（国土交通省）

| データ | 利用内容 |
|-------|---------|
| **ほこナビ（歩行空間ネットワーク）** | バリアフリー経路・エレベーター位置の参照設計 |
| **Project LINKS** | オープンデータ連携のフレームワーク参照 |

### 補完データ

| データソース | 利用内容 |
|-------------|---------|
| **OpenStreetMap** | 駅周辺POI・施設分布（L1 Location DNA） |
| **JMA 気象庁** | 天気・警報情報（L2 Live Sense） |
| **ecbo cloak / LUUP / GO** | 外部サービス連携リンク |

---

## 技術アーキテクチャ

### LUTAGU Tagging Engine（4層構造）

```
┌─────────────────────────────────────────────────────┐
│  L4 - Strategy Agent（戦略提案）                      │
│  → ハイブリッドエンジン: テンプレート50% + 算法26% + LLM24% │
├─────────────────────────────────────────────────────┤
│  L3 - Service Facilities（設備情報）                  │
│  → 276件以上のバリアフリー施設 + PostGIS空間検索        │
├─────────────────────────────────────────────────────┤
│  L2 - Live Sense（リアルタイム状況）                   │
│  → ODPT運行情報 + JMA気象 + 混雑度推定                │
├─────────────────────────────────────────────────────┤
│  L1 - Location DNA（地域特性）                        │
│  → OSMタグ集約による「駅の性格」定義                    │
└─────────────────────────────────────────────────────┘
```

### ハイブリッドAIエンジン

| 処理層 | 割合 | 特徴 |
|-------|-----|------|
| **テンプレートマッチング** | 50% | 定型質問への即座回答（16ms以下） |
| **アルゴリズム計算** | 26% | ルート・運賃の確定的計算 |
| **LLMフォールバック** | 24% | オープンエンド質問への対応 |

**メリット**：
- 平均応答時間 **16.11ms**
- スループット **1,538 req/sec**
- LLM依存を抑え、**コスト削減・CO2削減**に貢献

---

## 技術スタック

| カテゴリ | 技術 |
|---------|------|
| **フロントエンド** | Next.js 14 (App Router), TypeScript, Tailwind CSS |
| **地図** | React Leaflet + OpenStreetMap |
| **データベース** | Supabase (PostgreSQL + PostGIS) |
| **AI統合** | Dify API (RAG + Agent), Mistral AI, Google Generative AI |
| **多言語対応** | next-intl（中文繁體・日本語・English・العربية） |
| **デプロイ** | Vercel + PWA（オフライン対応） |

---

## デモシナリオ

### シナリオ1：オーバーツーリズム対策

**ユーザー入力**：
> 「浅草寺が混んでて疲れた。似た雰囲気で空いてる場所ある？」

**LUTAGUの回答**：
> 🎯 **柴又（しばまた）をおすすめします**
>
> 浅草と同じ「参道商店街＋大寺院」の構成ですが、観光地化されすぎておらず、本当の下町情緒が味わえます。
>
> 📍 アクセス：押上駅から京成線で約20分
>
> 💡 今戸神社（徒歩15分）も招き猫で有名で、静かに参拝できます。

---

### シナリオ2：交通異常時の判断代行

**ユーザー入力**：
> 「東京駅から都庁に行きたいけど、中央線が遅れてるみたい」

**LUTAGUの回答**：
> ⚠️ **中央線は現在20分程度の遅延が発生しています**
>
> 🎯 **おすすめ：丸ノ内線で西新宿駅へ**
>
> 新宿駅より西新宿駅の方が：
> - 出口がシンプル（A1出口直結）
> - 都庁まで徒歩5分（新宿駅経由だと10分以上）
>
> 📍 東京駅 → 丸ノ内線 → 西新宿駅（約15分）

---

### シナリオ3：バリアフリー案内

**ユーザー入力**：
> 「ベビーカーで上野動物園に行きたい。どの出口がいい？」

**LUTAGUの回答**：
> 🎯 **上野駅「公園口」をおすすめします**
>
> - 地上階なのでエレベーター待ち不要
> - 改札を出てすぐ動物園入口
> - JRの場合、5番線ホームから直結
>
> ⚠️ 「不忍口」は階段が多いので避けてください。

---

## 独自性・革新性

### 1. 「判断代行」という新しい価値

既存ツールは「情報提供」に留まる。LUTAGUは **「あなたの状況では、これがベスト」** という判断を提供する。

### 2. ハイブリッドAI（76%非LLM）

純粋なChatGPT型ではなく、**テンプレート＋アルゴリズム＋LLM** の三層構造により：
- 高速応答（16ms）
- 低コスト運用
- 説明可能な推論

### 3. 交通空白データの収集基盤

「最後の一マイル」で共有自転車・タクシーリンクを提供し、**外国人旅行者がどの距離で代替交通を選ぶか** のデータ収集基盤を構築。これはODPTでは取得できない「末端移動行動」の可視化につながる。

### 4. 多言語・多文化対応

- 中文繁體（台湾市場）
- 日本語
- English
- العربية

単なる翻訳ではなく、各言語圏の旅行者が必要とする情報粒度に最適化。

---

## 今後の展望

| フェーズ | 内容 |
|---------|------|
| **Phase 2** | 東京23区全域への拡大、バス路線統合 |
| **Phase 3** | 関西圏（大阪・京都）への展開 |
| **Phase 4** | ユーザー行動データに基づく「交通空白レポート」の国交省提供 |

---

## 検証エリア

**東京都心三区：台東区・千代田区・中央区**

| 選定理由 | 説明 |
|---------|------|
| **観光客密度** | 浅草・上野・東京駅・銀座 — 外国人が最も多いエリア |
| **交通複雑度** | JR・Metro・都営・私鉄が交錯、乗換トラップ多数 |
| **ODPT網羅率** | リアルタイムデータの取得が安定 |

---

## リンク

| 項目 | URL |
|------|-----|
| **デモサイト** | https://lutagu.vercel.app |
| **GitHub** | https://github.com/losangeles1156/lutagu-mvp |
| **開発者** | @losangeles1156 |

---

## まとめ

**LUTAGUは、公共交通オープンデータを「使える形」に変換するサービスです。**

- ODPTの運行情報 → **遅延時の最適代替ルート提案**
- 駅施設データ → **バリアフリー動線の具体案内**
- 複数データソースの統合 → **「判断」という新しい価値**

訪日外国人が「詰まる」瞬間を減らし、日本の公共交通の素晴らしさを、言語や知識の壁なく体験できる世界を目指します。

---

*公共交通オープンデータチャレンジ2025 応募作品*
*LUTAGU（ルタグ）*
